import{S as e,i as s,s as n,j as r,k as t,e as a,t as o,m as l,n as c,c as u,a as m,d as f,g,b as d,o as $,f as i,E as p,u as h,w as y,x as v,h as w,M as k,O as j,v as S,H as N,V as T,r as x,U as E,Q as R,T as A,N as I}from"../../chunks/vendor-31f7a821.js";import{p as b}from"../../chunks/stores-5108bb92.js";import{N as M,M as L,R as V}from"../../chunks/ReceiveGoldUI-d86d0cfe.js";import{M as B}from"../../chunks/Scroll.svelte_svelte&type=style&lang-8d69c0ce.js";import{g as C,c as D}from"../../chunks/stores-1f946ea2.js";import{s as H}from"../../chunks/scales-1ee44119.js";/* empty css                                                            */function O(e){let s,n;return s=new L({}),{c(){r(s.$$.fragment)},l(e){l(s.$$.fragment,e)},m(e,r){$(s,e,r),n=!0},i(e){n||(v(s.$$.fragment,e),n=!0)},o(e){h(s.$$.fragment,e),n=!1},d(e){S(s,e)}}}function P(e){let s,n,t,o,c;return n=new V({}),{c(){s=a("div"),r(n.$$.fragment)},l(e){s=u(e,"DIV",{});var r=m(s);l(n.$$.fragment,r),r.forEach(f)},m(e,r){i(e,s,r),$(n,s,null),c=!0},i(e){c||(v(n.$$.fragment,e),k((()=>{o&&o.end(1),t||(t=R(s,A,{y:-200,duration:700})),t.start()})),c=!0)},o(e){h(n.$$.fragment,e),t&&t.invalidate(),o=I(s,E,{}),c=!1},d(e){e&&f(s),S(n),e&&o&&o.end()}}}function U(e){let s,n,N,T,R,A,I,b,L,V,C,D,H,U,_=e[3].wonRound+"";s=new B({props:{mood:e[0],noteLetter:e[2].params.slug,message:e[4][e[1]]}}),T=new M({});const G=[P,O],Q=[];function q(e,s){return e[3].wonRound?0:1}return A=q(e),I=Q[A]=G[A](e),C=new B({props:{player:!0,message:"seems like the devs only implemented major chords so far..."}}),C.$on("click",e[5]),{c(){r(s.$$.fragment),n=t(),N=a("section"),r(T.$$.fragment),R=t(),I.c(),L=t(),V=a("div"),r(C.$$.fragment),D=t(),H=o(_),this.h()},l(e){l(s.$$.fragment,e),n=c(e),N=u(e,"SECTION",{class:!0});var r=m(N);l(T.$$.fragment,r),R=c(r),I.l(r),r.forEach(f),L=c(e),V=u(e,"DIV",{class:!0});var t=m(V);l(C.$$.fragment,t),D=c(t),H=g(t,_),t.forEach(f),this.h()},h(){d(N,"class","svelte-157wjgr"),d(V,"class","player-box svelte-157wjgr")},m(e,r){$(s,e,r),i(e,n,r),i(e,N,r),$(T,N,null),p(N,R),Q[A].m(N,null),i(e,L,r),i(e,V,r),$(C,V,null),p(V,D),p(V,H),U=!0},p(e,[n]){const r={};1&n&&(r.mood=e[0]),4&n&&(r.noteLetter=e[2].params.slug),2&n&&(r.message=e[4][e[1]]),s.$set(r);let t=A;A=q(e),A!==t&&(x(),h(Q[t],1,1,(()=>{Q[t]=null})),y(),I=Q[A],I||(I=Q[A]=G[A](e),I.c()),v(I,1),I.m(N,null)),(!U||8&n)&&_!==(_=e[3].wonRound+"")&&w(H,_)},i(e){U||(v(s.$$.fragment,e),v(T.$$.fragment,e),v(I),k((()=>{b||(b=j(N,E,{},!0)),b.run(1)})),v(C.$$.fragment,e),U=!0)},o(e){h(s.$$.fragment,e),h(T.$$.fragment,e),h(I),b||(b=j(N,E,{},!1)),b.run(0),h(C.$$.fragment,e),U=!1},d(e){S(s,e),e&&f(n),e&&f(N),S(T),Q[A].d(),e&&b&&b.end(),e&&f(L),e&&f(V),S(C)}}}function _(e,s,n){let r,t,a;N(e,b,(e=>n(2,r=e))),N(e,C,(e=>n(3,t=e))),N(e,D,(e=>n(6,a=e)));let o="sad",l=r.params.slug;console.log(l);let c=t.lettersCToB.findIndex((e=>{if(e===l)return!0}));T(C,t.currentScale=H[c].notes,t),T(C,t.currentNoteTypes=H[c].noteTypes,t),console.log(H[c].notes);let u=a[l],m=0;console.log("key is "+c),T(C,t.canPresent=!0,t);return[o,m,r,t,u,()=>{console.log("checking answer..."),console.log("playing chord"),t.enteredHalfTones.forEach(((e,s)=>{new Audio(`../static/sounds/note${e}.wav`).play()})),t.currentNoteTypes;const e=[t.currentScale[0],t.currentScale[2],t.currentScale[4]];t.currentScale[0],t.currentScale[2],t.currentScale[4],console.log("chord needed: "+e),console.log("your chord: "+t.enteredNotes),!function(e,s){if(!Array.isArray(e)||!Array.isArray(s)||e.length!==s.length)return!1;const n=e.concat().sort(),r=s.concat().sort();for(let t=0;t<n.length;t++)if(n[t]!==r[t])return!1;return!0}(e,t.enteredNotes)?n(1,m=2):(n(0,o="happy"),n(1,m=1),T(C,t.gold+=25,t),T(C,t.wonRound=!0,t),T(C,t.canPresent=!1,t),t.completedLetters.push(l))}]}export default class extends e{constructor(e){super(),s(this,e,_,U,n,{})}}
