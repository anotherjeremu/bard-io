import{S as t,i as e,s as a,e as s,k as r,t as o,c as l,a as n,n as c,g as i,d as u,b as d,f,E as m,G as h,F as $,M as g,N as p,j as y,m as v,o as S,x as w,u as E,O as j,v as k,l as I,w as N,P as q,H as b,Q as x,R as T,T as U,r as V,U as A,V as D}from"../chunks/vendor-09e2d04d.js";import{N as M,R as O,M as P}from"../chunks/ReceiveGoldUI-8ca95150.js";import{M as R}from"../chunks/MessageBox-bcd6abb2.js";/* empty css                                                     */import{g as C,m as G}from"../chunks/stores-68f61374.js";function H(t){let e,a,$,g,p,y,v,S,w,E;return{c(){e=s("div"),a=s("img"),g=r(),p=s("div"),y=s("p"),v=o("chords are build from different notes of the major scale"),S=r(),w=s("p"),E=o("1st 3rd and 5th create a major chord"),this.h()},l(t){e=l(t,"DIV",{class:!0});var s=n(e);a=l(s,"IMG",{src:!0,alt:!0,class:!0}),g=c(s),p=l(s,"DIV",{class:!0});var r=n(p);y=l(r,"P",{class:!0});var o=n(y);v=i(o,"chords are build from different notes of the major scale"),o.forEach(u),S=c(r),w=l(r,"P",{class:!0});var d=n(w);E=i(d,"1st 3rd and 5th create a major chord"),d.forEach(u),r.forEach(u),s.forEach(u),this.h()},h(){a.src!==($=`/bard-io/static/scrolls/${t[0]}-major-scroll.png`)&&d(a,"src",$),d(a,"alt",""),d(a,"class","svelte-1caqy3i"),d(y,"class","svelte-1caqy3i"),d(w,"class","svelte-1caqy3i"),d(p,"class","scroll-text svelte-1caqy3i"),d(e,"class","scroll svelte-1caqy3i")},m(t,s){f(t,e,s),m(e,a),m(e,g),m(e,p),m(p,y),m(y,v),m(p,S),m(p,w),m(w,E)},p(t,[e]){1&e&&a.src!==($=`/bard-io/static/scrolls/${t[0]}-major-scroll.png`)&&d(a,"src",$)},i:h,o:h,d(t){t&&u(e)}}}function B(t,e,a){let{type:s="c"}=e;return t.$$set=t=>{"type"in t&&a(0,s=t.type)},[s]}class F extends t{constructor(t){super(),e(this,t,B,H,a,{type:0})}}function L(t){let e,a,y,v,S,w,E,j,k,I,N;return{c(){e=s("section"),a=s("h1"),y=o("welcome to the forest of letters"),v=r(),S=s("button"),w=o("enter"),this.h()},l(t){e=l(t,"SECTION",{class:!0});var s=n(e);a=l(s,"H1",{});var r=n(a);y=i(r,"welcome to the forest of letters"),r.forEach(u),v=c(s),S=l(s,"BUTTON",{class:!0});var o=n(S);w=i(o,"enter"),o.forEach(u),s.forEach(u),this.h()},h(){d(S,"class","svelte-11yqy9y"),d(e,"class","welcome svelte-11yqy9y")},m(s,r){f(s,e,r),m(e,a),m(a,y),m(e,v),m(e,S),m(S,w),k=!0,I||(N=$(S,"click",t[3]),I=!0)},p:h,i(t){k||(g((()=>{j&&j.end(1),E||(E=x(e,A,{duration:400})),E.start()})),k=!0)},o(t){E&&E.invalidate(),j=p(e,T,{}),k=!1},d(t){t&&u(e),t&&j&&j.end(),I=!1,N()}}}function Q(t){let e,a,r,o;return a=new F({props:{type:"c"}}),{c(){e=s("div"),y(a.$$.fragment),this.h()},l(t){e=l(t,"DIV",{class:!0});var s=n(e);v(a.$$.fragment,s),s.forEach(u),this.h()},h(){d(e,"class","scroll")},m(t,s){f(t,e,s),S(a,e,null),o=!0},i(t){o||(w(a.$$.fragment,t),g((()=>{r||(r=j(e,U,{y:200,duration:200},!0)),r.run(1)})),o=!0)},o(t){E(a.$$.fragment,t),r||(r=j(e,U,{y:200,duration:200},!1)),r.run(0),o=!1},d(t){t&&u(e),k(a),t&&r&&r.end()}}}function _(t){let e,a,s,o;e=new R({props:{mood:t[0],message:t[2][t[1].tutorialState][1]}});let l=t[1].tutorialState>=4&&z(t);return{c(){y(e.$$.fragment),a=r(),l&&l.c(),s=I()},l(t){v(e.$$.fragment,t),a=c(t),l&&l.l(t),s=I()},m(t,r){S(e,t,r),f(t,a,r),l&&l.m(t,r),f(t,s,r),o=!0},p(t,a){const r={};1&a&&(r.mood=t[0]),6&a&&(r.message=t[2][t[1].tutorialState][1]),e.$set(r),t[1].tutorialState>=4?l?(l.p(t,a),2&a&&w(l,1)):(l=z(t),l.c(),w(l,1),l.m(s.parentNode,s)):l&&(V(),E(l,1,1,(()=>{l=null})),N())},i(t){o||(w(e.$$.fragment,t),w(l),o=!0)},o(t){E(e.$$.fragment,t),E(l),o=!1},d(t){k(e,t),t&&u(a),l&&l.d(t),t&&u(s)}}}function z(t){let e,a,o,i,h,$,p;a=new M({});const I=[K,J],q=[];function b(t,e){return t[1].tutorialState<=5?0:1}return i=b(t),h=q[i]=I[i](t),{c(){e=s("section"),y(a.$$.fragment),o=r(),h.c(),this.h()},l(t){e=l(t,"SECTION",{class:!0});var s=n(e);v(a.$$.fragment,s),o=c(s),h.l(s),s.forEach(u),this.h()},h(){d(e,"class","main-content svelte-11yqy9y")},m(t,s){f(t,e,s),S(a,e,null),m(e,o),q[i].m(e,null),p=!0},p(t,a){let s=i;i=b(t),i!==s&&(V(),E(q[s],1,1,(()=>{q[s]=null})),N(),h=q[i],h||(h=q[i]=I[i](t),h.c()),w(h,1),h.m(e,null))},i(t){p||(w(a.$$.fragment,t),w(h),g((()=>{$||($=j(e,A,{duration:20},!0)),$.run(1)})),p=!0)},o(t){E(a.$$.fragment,t),E(h),$||($=j(e,A,{duration:20},!1)),$.run(0),p=!1},d(t){t&&u(e),k(a),q[i].d(),t&&$&&$.end()}}}function J(t){let e,a,r,o,c;return a=new O({}),{c(){e=s("div"),y(a.$$.fragment)},l(t){e=l(t,"DIV",{});var s=n(e);v(a.$$.fragment,s),s.forEach(u)},m(t,s){f(t,e,s),S(a,e,null),c=!0},i(t){c||(w(a.$$.fragment,t),g((()=>{o&&o.end(1),r||(r=x(e,U,{y:-200,duration:500})),r.start()})),c=!0)},o(t){E(a.$$.fragment,t),r&&r.invalidate(),o=p(e,A,{}),c=!1},d(t){t&&u(e),k(a),t&&o&&o.end()}}}function K(t){let e,a;return e=new P({}),{c(){y(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,s){S(e,t,s),a=!0},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){k(e,t)}}}function W(t){let e,a,o,i,m,h,g,p,j,I=0==t[1].tutorialState&&L(t),b=1==t[1].tutorialState&&Q(),x=t[1].tutorialState>=2&&_(t);return h=new R({props:{player:!0,message:t[2][t[1].tutorialState][0]}}),h.$on("click",t[4]),{c(){e=r(),I&&I.c(),a=r(),b&&b.c(),o=r(),x&&x.c(),i=r(),m=s("div"),y(h.$$.fragment),this.h()},l(t){q('[data-svelte="svelte-1086fqi"]',document.head).forEach(u),e=c(t),I&&I.l(t),a=c(t),b&&b.l(t),o=c(t),x&&x.l(t),i=c(t),m=l(t,"DIV",{id:!0,class:!0});var s=n(m);v(h.$$.fragment,s),s.forEach(u),this.h()},h(){document.title="bard.io",d(m,"id","player-box"),d(m,"class","svelte-11yqy9y")},m(s,r){f(s,e,r),I&&I.m(s,r),f(s,a,r),b&&b.m(s,r),f(s,o,r),x&&x.m(s,r),f(s,i,r),f(s,m,r),S(h,m,null),g=!0,p||(j=$(window,"keydown",t[5]),p=!0)},p(t,[e]){0==t[1].tutorialState?I?(I.p(t,e),2&e&&w(I,1)):(I=L(t),I.c(),w(I,1),I.m(a.parentNode,a)):I&&(V(),E(I,1,1,(()=>{I=null})),N()),1==t[1].tutorialState?b?2&e&&w(b,1):(b=Q(),b.c(),w(b,1),b.m(o.parentNode,o)):b&&(V(),E(b,1,1,(()=>{b=null})),N()),t[1].tutorialState>=2?x?(x.p(t,e),2&e&&w(x,1)):(x=_(t),x.c(),w(x,1),x.m(i.parentNode,i)):x&&(V(),E(x,1,1,(()=>{x=null})),N());const s={};6&e&&(s.message=t[2][t[1].tutorialState][0]),h.$set(s)},i(t){g||(w(I),w(b),w(x),w(h.$$.fragment,t),g=!0)},o(t){E(I),E(b),E(x),E(h.$$.fragment,t),g=!1},d(t){t&&u(e),I&&I.d(t),t&&u(a),b&&b.d(t),t&&u(o),x&&x.d(t),t&&u(i),t&&u(m),k(h),p=!1,j()}}}const X=!0;function Y(t,e,a){let s,r;b(t,C,(t=>a(1,s=t))),b(t,G,(t=>a(2,r=t)));let o="sad";const l=()=>{D(C,s.tutorialState=1,s),D(C,s.showScroll=!0,s)};2===s.tutorialState&&D(C,s.showUI=!1,s),3===s.tutorialState&&(console.log("state 3 fired"),D(C,s.showUI=!0,s)),s.tutorialState>=7&&(console.log("state 3 fired"),D(C,s.showUI=!1,s));let n,c;return[o,s,r,l,()=>{console.log("checking answer..."),console.log("playing chord"),s.enteredHalfTones.forEach(((t,e)=>{console.log("it issssss . . ."),console.log(t),new Audio(`../static/sounds/note${t}.wav`).play()}));const t=[s.currentScale[0],s.currentScale[2],s.currentScale[4]];s.currentScale[0],s.currentScale[2],s.currentScale[4],console.log("chord needed: "+t),console.log("your chord: "+s.enteredNotes),!function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;const a=t.concat().sort(),s=e.concat().sort();for(let r=0;r<a.length;r++)if(a[r]!==s[r])return!1;return!0}(t,s.enteredNotes)?D(C,s.tutorialState=5,s):(s.entered&&a(0,o="happy"),D(C,s.tutorialState=6,s),D(C,s.gold+=25,s),D(C,s.wonRound=!0,s),D(C,s.canPresent=!1,s),s.completedLetters.push("c"))},function(t){n=t.key,c=t.keyCode,console.log(n,c),13===c&&(0==s.tutorialState?l():4!=s.tutorialState&&D(C,s.tutorialState+=1,s))}]}class Z extends t{constructor(t){super(),e(this,t,Y,W,a,{})}}export{Z as default,X as prerender};
