import{S as t,i as e,s as a,e as r,k as s,t as o,c as l,a as n,d as c,n as i,g as u,b as d,f,E as m,G as h,F as $,M as g,N as p,j as v,m as S,o as y,x as w,u as E,O as k,v as I,l as j,w as N,P as b,H as x,Q as V,R as q,T as D,r as T,U,V as z}from"../chunks/vendor-09e2d04d.js";import{N as A,R as M,M as R}from"../chunks/ReceiveGoldUI-3470665a.js";import{M as O}from"../chunks/MessageBox-a0c47c60.js";/* empty css                                                     */import{g as P,m as B}from"../chunks/stores-68f61374.js";function G(t){let e,a,$,g,p,v,S,y,w,E,k,I,j;return{c(){e=r("div"),a=r("div"),$=r("img"),p=s(),v=r("div"),S=r("p"),y=o("chords are build from different notes of the major scale"),w=s(),E=r("br"),k=s(),I=r("p"),j=o("1st 3rd and 5th create a major chord"),this.h()},l(t){e=l(t,"DIV",{class:!0});var r=n(e);a=l(r,"DIV",{class:!0});var s=n(a);$=l(s,"IMG",{src:!0,alt:!0,class:!0}),s.forEach(c),p=i(r),v=l(r,"DIV",{class:!0});var o=n(v);S=l(o,"P",{class:!0});var d=n(S);y=u(d,"chords are build from different notes of the major scale"),d.forEach(c),w=i(o),E=l(o,"BR",{}),k=i(o),I=l(o,"P",{class:!0});var f=n(I);j=u(f,"1st 3rd and 5th create a major chord"),f.forEach(c),o.forEach(c),r.forEach(c),this.h()},h(){$.src!==(g=`/static/scrolls/${t[0]}-major-scroll.png`)&&d($,"src",g),d($,"alt",""),d($,"class","svelte-1lkqzi1"),d(a,"class","scroll svelte-1lkqzi1"),d(S,"class","svelte-1lkqzi1"),d(I,"class","svelte-1lkqzi1"),d(v,"class","scroll-text svelte-1lkqzi1"),d(e,"class","scroll-container")},m(t,r){f(t,e,r),m(e,a),m(a,$),m(e,p),m(e,v),m(v,S),m(S,y),m(v,w),m(v,E),m(v,k),m(v,I),m(I,j)},p(t,[e]){1&e&&$.src!==(g=`/static/scrolls/${t[0]}-major-scroll.png`)&&d($,"src",g)},i:h,o:h,d(t){t&&c(e)}}}function H(t,e,a){let{type:r="c"}=e;return t.$$set=t=>{"type"in t&&a(0,r=t.type)},[r]}class C extends t{constructor(t){super(),e(this,t,H,G,a,{type:0})}}function F(t){let e,a,v,S,y,w,E,k,I,j,N;return{c(){e=r("section"),a=r("h1"),v=o("welcome to the forest of letters"),S=s(),y=r("button"),w=o("enter"),this.h()},l(t){e=l(t,"SECTION",{class:!0});var r=n(e);a=l(r,"H1",{});var s=n(a);v=u(s,"welcome to the forest of letters"),s.forEach(c),S=i(r),y=l(r,"BUTTON",{class:!0});var o=n(y);w=u(o,"enter"),o.forEach(c),r.forEach(c),this.h()},h(){d(y,"class","svelte-1ur355r"),d(e,"class","welcome svelte-1ur355r")},m(r,s){f(r,e,s),m(e,a),m(a,v),m(e,S),m(e,y),m(y,w),I=!0,j||(N=$(y,"click",t[3]),j=!0)},p:h,i(t){I||(g((()=>{k&&k.end(1),E||(E=V(e,U,{duration:400})),E.start()})),I=!0)},o(t){E&&E.invalidate(),k=p(e,q,{}),I=!1},d(t){t&&c(e),t&&k&&k.end(),j=!1,N()}}}function L(t){let e,a,s,o;return a=new C({props:{type:"c"}}),{c(){e=r("div"),v(a.$$.fragment),this.h()},l(t){e=l(t,"DIV",{class:!0});var r=n(e);S(a.$$.fragment,r),r.forEach(c),this.h()},h(){d(e,"class","scroll")},m(t,r){f(t,e,r),y(a,e,null),o=!0},i(t){o||(w(a.$$.fragment,t),g((()=>{s||(s=k(e,D,{y:200,duration:200},!0)),s.run(1)})),o=!0)},o(t){E(a.$$.fragment,t),s||(s=k(e,D,{y:200,duration:200},!1)),s.run(0),o=!1},d(t){t&&c(e),I(a),t&&s&&s.end()}}}function Q(t){let e,a,r,o;e=new O({props:{mood:t[0],message:t[2][t[1].tutorialState][1]}});let l=t[1].tutorialState>=4&&_(t);return{c(){v(e.$$.fragment),a=s(),l&&l.c(),r=j()},l(t){S(e.$$.fragment,t),a=i(t),l&&l.l(t),r=j()},m(t,s){y(e,t,s),f(t,a,s),l&&l.m(t,s),f(t,r,s),o=!0},p(t,a){const s={};1&a&&(s.mood=t[0]),6&a&&(s.message=t[2][t[1].tutorialState][1]),e.$set(s),t[1].tutorialState>=4?l?(l.p(t,a),2&a&&w(l,1)):(l=_(t),l.c(),w(l,1),l.m(r.parentNode,r)):l&&(T(),E(l,1,1,(()=>{l=null})),N())},i(t){o||(w(e.$$.fragment,t),w(l),o=!0)},o(t){E(e.$$.fragment,t),E(l),o=!1},d(t){I(e,t),t&&c(a),l&&l.d(t),t&&c(r)}}}function _(t){let e,a,o,u,h,$,p;a=new A({});const j=[K,J],b=[];function x(t,e){return t[1].tutorialState<=5?0:1}return u=x(t),h=b[u]=j[u](t),{c(){e=r("section"),v(a.$$.fragment),o=s(),h.c(),this.h()},l(t){e=l(t,"SECTION",{class:!0});var r=n(e);S(a.$$.fragment,r),o=i(r),h.l(r),r.forEach(c),this.h()},h(){d(e,"class","center-flex svelte-1ur355r")},m(t,r){f(t,e,r),y(a,e,null),m(e,o),b[u].m(e,null),p=!0},p(t,a){let r=u;u=x(t),u!==r&&(T(),E(b[r],1,1,(()=>{b[r]=null})),N(),h=b[u],h||(h=b[u]=j[u](t),h.c()),w(h,1),h.m(e,null))},i(t){p||(w(a.$$.fragment,t),w(h),g((()=>{$||($=k(e,U,{duration:20},!0)),$.run(1)})),p=!0)},o(t){E(a.$$.fragment,t),E(h),$||($=k(e,U,{duration:20},!1)),$.run(0),p=!1},d(t){t&&c(e),I(a),b[u].d(),t&&$&&$.end()}}}function J(t){let e,a,s,o,i;return a=new M({}),{c(){e=r("div"),v(a.$$.fragment)},l(t){e=l(t,"DIV",{});var r=n(e);S(a.$$.fragment,r),r.forEach(c)},m(t,r){f(t,e,r),y(a,e,null),i=!0},i(t){i||(w(a.$$.fragment,t),g((()=>{o&&o.end(1),s||(s=V(e,D,{y:-200,duration:500})),s.start()})),i=!0)},o(t){E(a.$$.fragment,t),s&&s.invalidate(),o=p(e,U,{}),i=!1},d(t){t&&c(e),I(a),t&&o&&o.end()}}}function K(t){let e,a;return e=new R({}),{c(){v(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,r){y(e,t,r),a=!0},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){I(e,t)}}}function W(t){let e,a,o,u,m,h,$,g=0==t[1].tutorialState&&F(t),p=1==t[1].tutorialState&&L(),k=t[1].tutorialState>=2&&Q(t);return h=new O({props:{player:!0,message:t[2][t[1].tutorialState][0]}}),h.$on("click",t[4]),{c(){e=s(),g&&g.c(),a=s(),p&&p.c(),o=s(),k&&k.c(),u=s(),m=r("div"),v(h.$$.fragment),this.h()},l(t){b('[data-svelte="svelte-1086fqi"]',document.head).forEach(c),e=i(t),g&&g.l(t),a=i(t),p&&p.l(t),o=i(t),k&&k.l(t),u=i(t),m=l(t,"DIV",{class:!0});var r=n(m);S(h.$$.fragment,r),r.forEach(c),this.h()},h(){document.title="bard.io",d(m,"class","player-box svelte-1ur355r")},m(t,r){f(t,e,r),g&&g.m(t,r),f(t,a,r),p&&p.m(t,r),f(t,o,r),k&&k.m(t,r),f(t,u,r),f(t,m,r),y(h,m,null),$=!0},p(t,[e]){0==t[1].tutorialState?g?(g.p(t,e),2&e&&w(g,1)):(g=F(t),g.c(),w(g,1),g.m(a.parentNode,a)):g&&(T(),E(g,1,1,(()=>{g=null})),N()),1==t[1].tutorialState?p?2&e&&w(p,1):(p=L(),p.c(),w(p,1),p.m(o.parentNode,o)):p&&(T(),E(p,1,1,(()=>{p=null})),N()),t[1].tutorialState>=2?k?(k.p(t,e),2&e&&w(k,1)):(k=Q(t),k.c(),w(k,1),k.m(u.parentNode,u)):k&&(T(),E(k,1,1,(()=>{k=null})),N());const r={};6&e&&(r.message=t[2][t[1].tutorialState][0]),h.$set(r)},i(t){$||(w(g),w(p),w(k),w(h.$$.fragment,t),$=!0)},o(t){E(g),E(p),E(k),E(h.$$.fragment,t),$=!1},d(t){t&&c(e),g&&g.d(t),t&&c(a),p&&p.d(t),t&&c(o),k&&k.d(t),t&&c(u),t&&c(m),I(h)}}}const X=!0;function Y(t,e,a){let r,s;x(t,P,(t=>a(1,r=t))),x(t,B,(t=>a(2,s=t)));let o="sad";2===r.tutorialState&&z(P,r.showUI=!1,r),3===r.tutorialState&&(console.log("state 3 fired"),z(P,r.showUI=!0,r)),r.tutorialState>=7&&(console.log("state 3 fired"),z(P,r.showUI=!1,r));return[o,r,s,()=>{z(P,r.tutorialState=1,r),z(P,r.showScroll=!0,r)},()=>{console.log("checking answer..."),console.log("playing chord"),r.enteredHalfTones.forEach(((t,e)=>{console.log("it issssss . . ."),console.log(t),new Audio(`./static/sounds/note${t}.wav`).play()}));const t=[r.currentScale[0],r.currentScale[2],r.currentScale[4]];r.currentScale[0],r.currentScale[2],r.currentScale[4],console.log("chord needed: "+t),console.log("your chord: "+r.enteredNotes),!function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;const a=t.concat().sort(),r=e.concat().sort();for(let s=0;s<a.length;s++)if(a[s]!==r[s])return!1;return!0}(t,r.enteredNotes)?z(P,r.tutorialState=5,r):(r.entered&&a(0,o="happy"),z(P,r.tutorialState=6,r),z(P,r.gold+=25,r),z(P,r.wonRound=!0,r),z(P,r.canPresent=!1,r),r.completedLetters.push("c"))}]}class Z extends t{constructor(t){super(),e(this,t,Y,W,a,{})}}export{Z as default,X as prerender};
